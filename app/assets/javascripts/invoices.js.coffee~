# Place all the behaviors and hooks related to the matching controller here.
# All this logic will automatically be available in application.js.
# You can use CoffeeScript in this file: http://coffeescript.org/
$(function() {
  $(function () {
            $('.VAT, .subtot, .grdtot, .total, .subtot, .plus, .pluses').prop('readonly', true);
            var $tblrows = $("#tblProducts tbody tr");

            $tblrows.each(function (index) {
                var $tblrow = $(this);

                $tblrow.find('.subtot, .total').on('change', function () {

                    var qty = $tblrow.find("[ip=sub]").val();
                    if( qty.length == 0 ){
                    var qty =0;
                     };
                    var price = $tblrow.find("[ip=total]").val();
                    var subTotal = parseInt(qty, 10) * parseFloat(price) * 0.01;
                    if (!isNaN(subTotal)) {

                        
                        var grandTotal = 0;

                        $(".total").each(function () {
                            var stval = subTotal;
                            grandTotal += isNaN(stval) ? 0 : stval;
                        });

                        $('.pluses').val(grandTotal.toFixed(2));
                    }
        $("[il=bum]").on('keyup change', function(){
    $('#results').html(( parseFloat($('#El').val()) + parseFloat($('#E_CCNM').val())).toFixed(2));
});
                });
            });
        });
});
